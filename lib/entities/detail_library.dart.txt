import 'package:playlistmaster/entities/song.dart.txt';

/// Detail library.
class DetailLibrary {
  String name;
  String cover;
  int itemCount;

  String description;
  int listenNum;
  int dirId;
  String tid;
  List<Song> songs;

  DetailLibrary({
    required this.name,
    this.description = 'A description for your library.',
    required this.cover,
    required this.itemCount,
    required this.listenNum,
    required this.dirId,
    required this.tid,
    required this.songs,
  });

  Map<String, dynamic> toJson() {
    return {
      'name': name,
      'desc': description,
      'coverImage': cover,
      'songCount': itemCount,
      'listenNum': listenNum,
      'dirId': dirId,
      'tid': tid,
      'songs': songs,
    };
  }

  factory DetailLibrary.fromJson(Map<String, dynamic> json) {
    int songsCount = json['songCount'];
    List<Song> songs;
    if (songsCount != 0) {
      List<dynamic> songsJson = json['songs'];
      songs = songsJson.map((songJson) => Song.fromJson(songJson)).toList();
    } else {
      songs = [];
    }
    return DetailLibrary(
      name: json['name'],
      description: json['desc'],
      coverImage: json['coverImage'],
      songsCount: songsCount,
      listenNum: json['listenNum'],
      dirId: json['dirId'],
      tid: json['tid'],
      songs: songs,
    );
  }
}
