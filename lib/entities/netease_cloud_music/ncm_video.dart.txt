import 'package:flutter/foundation.dart';

import '../basic/basic_video.dart';
import '../qq_music/qqmusic_singer.dart';

/// Video for ncm.
@immutable
class NCMVideo extends BasicVideo {
  const NCMVideo(
    this.id,
    this.playCount, {
    required super.name,
    required super.cover,
    required super.singers,
  });

  /// The id of the mv.
  final String id;

  /// Viewed times of the video.
  final int playCount;

  factory NCMVideo.fromJson(Map<String, dynamic> json) {
    List<dynamic> singersJson = json['singers'];
    List<QQMusicSinger> singers = singersJson
        .map<QQMusicSinger>((singer) => QQMusicSinger.fromJson(singer))
        .toList();
    return NCMVideo(
      json['vid'],
      json['playCnt'],
      name: json['name'],
      cover: json['cover'],
      singers: singers,
    );
  }

  @override
  String toString() {
    return 'QQMusicVideo{vid: $vid, playCnt: $playCnt, name: $name, cover: $cover, singers: $singers}';
  }
}
